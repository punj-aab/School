@model StudentTracker.ViewModels.OrganizationsViewModel
@{
    ViewBag.Title = "ViewOrganizations";
}

<div class="row-fluid">
    <div class="span12">
        <div class="widget">
            <div class="widget-header">
                <div class="title">
                    View Organizations<a id="dynamicTable">e</a>
                </div>
                <span class="tools">
                    <a class="fs1" aria-hidden="true" data-icon="&#xe090;"></a>
                </span>
            </div>
            <div class="widget-body">
                <div id="dt_example" class="example_alt_pagination">
                    <table class="table table-condensed table-striped table-hover table-bordered pull-left" id="data-table">
                        <thead>
                            <tr>
                                <th style="width: auto">Organization Name
                                </th>
                                <th style="width: auto">OrganizationDesc
                                </th>
                                <th style="width: auto">RegisterationNumber
                                </th>
                                <th style="width: auto" class="hidden-phone">City
                                </th>
                                <th style="width: auto" class="hidden-phone">Address1
                                </th>
                                <th style="width: auto" class="hidden-phone">Address2
                                </th>
                                <th style="width: auto" class="hidden-phone">Email
                                </th>
                                <th style="width: auto" class="hidden-phone">Phone1
                                </th>
                                <th style="width: auto" class="hidden-phone">Phone2
                                </th>
                                <th style="width: auto" class="hidden-phone">Created By
                                </th>
                                <th>Manage</th>
                            </tr>
                        </thead>
                        <tbody>
                            @foreach (var data in Model.OrganizationList)
                            {
                                <tr class="gradeX warning">
                                    <td>@data.OrganizationName
                                    </td>
                                    <td>@data.OrganizationDesc
                                    </td>
                                    <td>@data.RegisterationNumber
                                    </td>
                                    <td class="hidden-phone">@data.City
                                    </td>
                                    <td class="hidden-phone">@data.Address1
                                    </td>
                                    <td class="hidden-phone">@data.Address2
                                    </td>
                                    <td>
                                        @data.Email
                                    </td>
                                    <td>
                                        @data.Phone1
                                    </td>
                                    <td>@data.Phone2</td>
                                    <td>@data.InsertedByName</td>

                                    <td>
                                        <div class="btn-group">
                                            <button data-toggle="dropdown" class="btn btn-mini dropdown-toggle">
                                                Action 
                                                                              
                                                <span class="caret"></span>
                                            </button>
                                            <ul class="dropdown-menu">
                                                <li>
                                                    <a class="lnkDetails" href="#" itemId="@data.OrganizationId" action="Details" onclick="LoadViewById(event)">Details</a>
                                                </li>

                                                <li>
                                                    <a class="lnkEdit" href="#" action="Edit" itemId="@data.OrganizationId" onclick="LoadViewById(event)">Edit</a>
                                                </li>
                                                @if (User.IsInRole("SiteAdmin"))
                                                {
                                                    <li>
                                                        <a class="lnkDelete" href="#" itemId="@data.OrganizationId" action="DeleteConfirmed" onclick="Delete(event)">Delete</a>
                                                    </li>
                                                }
                                            </ul>
                                        </div>
                                    </td>

                                </tr>
                            }
                        </tbody>
                    </table>
                    <div class="clearfix">
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>
@if (Request.IsAjaxRequest())
{
    @HelperAssets.DataTable();
}
